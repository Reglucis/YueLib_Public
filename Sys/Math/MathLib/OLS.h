/*****************************************************************************************************
 * @file
 * @author
 * @version
 * @date
 * @brief
 * @email
 ****************************************************************************************************
 * @details
 *
 *
 ***************************************************************************************************/

 #ifndef __ORDINARY_LEAST_SQUARES_H__
 #define __ORDINARY_LEAST_SQUARES_H__
 
 #include "./Sys/Math/MyMathLib.h"
 
 typedef struct {
	 uint32_t Order;
	 float* x;
	 float* y;
 
	 float k;
	 float b;
 } OLS_t;
 
 OLS_t* OLS_New(uint32_t order);
 void OLS_Update(OLS_t* OLS, float deltax, float y);
 float OLS_GetDerivative(OLS_t* OLS);
 float OLS_GetSmooth(OLS_t* OLS);
 
 #define __OLS_GetDerivative(OLS) ((OLS)->k)
 #define __OLS_GetSmooth(OLS) ((OLS)->k * (OLS)->x[(OLS)->Order - 1] + (OLS)->b)
 
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 ///////////////////////////////////// ⬇ ⬇ ⬇ ⬇ ⬇ ⬇ ////    配  置  区    //// ⬇ ⬇ ⬇ ⬇ ⬇ ⬇ ///////////////////////////////////////////////
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 ///////////////////////////////////// ⬇ ⬇ ⬇ ⬇ ⬇ ⬇ ////  非  配  置  区  //// ⬇ ⬇ ⬇ ⬇ ⬇ ⬇ ///////////////////////////////////////////////
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
 /*------------------------------------------------------------ 变量类型 ------------------------------------------------------------*/
 
 /*------------------------------------------------------------ 函数声明 ------------------------------------------------------------*/
 
 #endif
 